[{"E:\\instagram-mern\\my-app\\src\\index.js":"1","E:\\instagram-mern\\my-app\\src\\App.js":"2","E:\\instagram-mern\\my-app\\src\\reportWebVitals.js":"3","E:\\instagram-mern\\my-app\\src\\component\\NavBar.js":"4","E:\\instagram-mern\\my-app\\src\\reducers\\userReduces.js":"5","E:\\instagram-mern\\my-app\\src\\component\\screens\\Profile.js":"6","E:\\instagram-mern\\my-app\\src\\component\\screens\\Home.js":"7","E:\\instagram-mern\\my-app\\src\\component\\screens\\Login.js":"8","E:\\instagram-mern\\my-app\\src\\component\\screens\\SignUp.js":"9","E:\\instagram-mern\\my-app\\src\\component\\screens\\CreatePost.js":"10","E:\\instagram-mern\\my-app\\src\\component\\screens\\UserProfile.js":"11","E:\\instagram-mern\\my-app\\src\\const.js":"12"},{"size":517,"mtime":1610346557882,"results":"13","hashOfConfig":"14"},{"size":1756,"mtime":1610353847682,"results":"15","hashOfConfig":"14"},{"size":375,"mtime":1610346557884,"results":"16","hashOfConfig":"14"},{"size":1473,"mtime":1610346557819,"results":"17","hashOfConfig":"14"},{"size":157,"mtime":1610346557884,"results":"18","hashOfConfig":"14"},{"size":9480,"mtime":1610569956026,"results":"19","hashOfConfig":"14"},{"size":9027,"mtime":1610346557819,"results":"20","hashOfConfig":"14"},{"size":2953,"mtime":1610346557820,"results":"21","hashOfConfig":"14"},{"size":2878,"mtime":1610346557820,"results":"22","hashOfConfig":"14"},{"size":2643,"mtime":1610346557819,"results":"23","hashOfConfig":"14"},{"size":9366,"mtime":1610565614963,"results":"24","hashOfConfig":"14"},{"size":59,"mtime":1610346557858,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1kf0ot3",{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"E:\\instagram-mern\\my-app\\src\\index.js",[],["53","54"],"E:\\instagram-mern\\my-app\\src\\App.js",["55"],"import './App.css';\r\nimport React, { createContext, useContext, useEffect, useReducer } from 'react';\r\nimport NavBar from './component/NavBar';\r\nimport Profile from './component/screens/Profile';\r\nimport Home from './component/screens/Home';\r\nimport SignUp from './component/screens/SignUp';\r\nimport Login from './component/screens/Login';\r\nimport CreatePost from './component/screens/CreatePost';\r\n\r\nimport { BrowserRouter, Route, Switch, useHistory } from 'react-router-dom';\r\nimport { initialState, reducer } from './reducers/userReduces';\r\nimport UserProfile from './component/screens/UserProfile';\r\n\r\nexport const UserContext = createContext();\r\nconst Routing = () => {\r\n  const history = useHistory();\r\n  const { dispatch } = useContext(UserContext);\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      dispatch({ type: 'USER', payload: user });\r\n      // history.push('/');\r\n    } else history.push('/login');\r\n  }, []);\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <Home />\r\n      </Route>\r\n      <Route exact path=\"/profile\">\r\n        <Profile />\r\n      </Route>\r\n      <Route path=\"/profile/:userId\">\r\n        <UserProfile />\r\n      </Route>\r\n      <Route path=\"/signup\">\r\n        <SignUp />\r\n      </Route>\r\n      <Route path=\"/login\">\r\n        <Login />\r\n      </Route>\r\n      <Route path=\"/createpost\">\r\n        <CreatePost />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (\r\n    <UserContext.Provider value={{ state, dispatch }}>\r\n      <BrowserRouter>\r\n        <NavBar />\r\n        <Routing />\r\n      </BrowserRouter>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","E:\\instagram-mern\\my-app\\src\\reportWebVitals.js",[],"E:\\instagram-mern\\my-app\\src\\component\\NavBar.js",[],"E:\\instagram-mern\\my-app\\src\\reducers\\userReduces.js",[],"E:\\instagram-mern\\my-app\\src\\component\\screens\\Profile.js",["56","57"],"E:\\instagram-mern\\my-app\\src\\component\\screens\\Home.js",["58"],"import React, {useState, useEffect, useContext} from 'react';\r\nimport './style/Home.css';\r\nimport constant from \"../../const\";\r\nimport {UserContext} from '../../App';\r\nimport M from \"materialize-css\";\r\n\r\nconst Home = () => {\r\n        const [data, setData] = useState([]);\r\n        const [comment, setComment] = useState([]);\r\n        const {state} = useContext(UserContext);\r\n        useEffect(() => {\r\n            async function fetchData() {\r\n                try {\r\n                    const getData = await fetch(constant.localUrl + 'post/all', {\r\n                        method: 'get',\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\",\r\n                            \"Authorization\": (\"Bearer \" + JSON.parse(localStorage.getItem('jwt')))\r\n                        },\r\n                    });\r\n                    const result = await getData.json();\r\n                    if (result) {\r\n                        setData(result.posts);\r\n                    }\r\n                } catch (e) {\r\n                    console.error(e);\r\n                    M.toast({html: 'something wrong', classes: \"#c62828 red darken-3\"});\r\n                }\r\n            }\r\n\r\n            fetchData();\r\n        }, []);\r\n        const like = async (postId) => {\r\n            try {\r\n                const likeData = await fetch(constant.localUrl + 'post/like', {\r\n                    method: 'put',\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Authorization\": (\"Bearer \" + JSON.parse(localStorage.getItem('jwt')))\r\n                    },\r\n                    body: JSON.stringify({postId})\r\n                });\r\n                const result = await likeData.json();\r\n                if (likeData.status === 400 || likeData.status === '400') {\r\n\r\n                    M.toast({html: result.err ? result.err : 'something wrong', classes: \"#c62828 red darken-3\"});\r\n                } else {\r\n                    if (result) {\r\n                        const newData = await data.map(item => {\r\n                            if (item._id.toString() === result.post._id.toString()) return result.post;\r\n                            return item;\r\n                        });\r\n                        setData(newData);\r\n                    } else M.toast({html: 'something wrong', classes: \"#c62828 red darken-3\"});\r\n                }\r\n\r\n\r\n            } catch (e) {\r\n                console.error(e);\r\n                M.toast({html: 'something wrong', classes: \"#c62828 red darken-3\"});\r\n            }\r\n        };\r\n\r\n        const makeComment = async (postId) => {\r\n            const postComment = await fetch(constant.localUrl + 'post/comment', {\r\n                body: JSON.stringify({\r\n                    postId,\r\n                    comment: comment\r\n                }),\r\n                method: 'put',\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": (\"Bearer \" + JSON.parse(localStorage.getItem('jwt')))\r\n                },\r\n            });\r\n            const result = await postComment.json();\r\n            if (result.err || postComment.status.toString() === '400') M.toast({\r\n                html: result.err ? result.err : 'something wrong',\r\n                classes: \"#c62828 red darken-3\"\r\n            });\r\n            const newData = data.map(item => {\r\n                if (item._id.toString() === result.post._id.toString()) return result.post;\r\n                return item;\r\n            });\r\n            setData(newData);\r\n            setComment('');\r\n        };\r\n\r\n        const createCommentElement = (item) => {\r\n            const {comments} = item;\r\n            return comments.length < 3 ? comments.map(c => <div className='comment-item'>\r\n                    <span className='comment-name'>{c.commentBy.name} :</span>\r\n                    {c.text}</div>) :\r\n                [<div className='comment-item'>\r\n                    <span>{comments[0].commentBy.name} :</span>\r\n                    {comments[0].text}</div>,\r\n                    <div className='comment-item'> .\r\n                        <span>{comments[0].commentBy.name} :</span>\r\n                        {comments[1].text} </div>];\r\n        };\r\n\r\n        const removePost = async (postId) => {\r\n            try {\r\n                const removePost = await fetch(constant.localUrl + 'post/' + postId.toString(), {\r\n                    method: 'delete',\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Authorization\": (\"Bearer \" + JSON.parse(localStorage.getItem('jwt')))\r\n                    }\r\n                });\r\n                const result = await removePost.json();\r\n                if (result.err || removePost.status.toString() === '400') M.toast({\r\n                    html: result.err ? result.err : 'something wrong',\r\n                    classes: \"#c62828 red darken-3\"\r\n                });\r\n                else {\r\n                    const removedPost = result.post;\r\n                    const newData = data.filter(item => item._id.toString() !== removedPost._id.toString());\r\n                    setData(newData);\r\n                    M.toast({html: 'remove post', classes: \"#1de9b6 teal accent-4\"});\r\n                }\r\n\r\n            } catch (e) {\r\n                console.error(e);\r\n                M.toast({html: 'something wrong', classes: \"#c62828 red darken-3\"});\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className='home'>\r\n                {data.length > 0 ?\r\n                    data.map(item => {\r\n                        return (\r\n                            <div className='card home-card' key={item._id}>\r\n                                <div className='top-post-wrapper'>\r\n                                    <h5>{item.postedBy.name}</h5>\r\n                                    {item.postedBy._id.toString() === state._id.toString() ?\r\n                                        <i\r\n                                            className=\"material-icons\"\r\n                                            onClick={() => removePost(item._id)}\r\n                                        >delete</i> : null\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className='card-image'>\r\n                                    <img\r\n                                        alt=\"home\"\r\n                                        src={(item.photo).replace('//', '/')}/>\r\n                                </div>\r\n                                <div className='card-content'>\r\n                                    <div className='bottom-pic-wrapper'>\r\n                                        <i\r\n                                            className={\"material-icons  like \" + `${state && item.likes.includes(state._id) ? 'liked' : ''}`}\r\n                                            onClick={() => like(item._id)}>favorite_border</i>\r\n                                        <span className='count-like'>{item.likes.length}</span>\r\n                                    </div>\r\n                                    <h6>{item.title}</h6>\r\n                                    <p>{item.body}</p>\r\n\r\n                                    <div className='comment-wrapper'>\r\n                                        <i className=\"material-icons comment-icon\">insert_comment</i>\r\n                                        {\r\n                                            item.comments.length === 0 ?\r\n                                                <div className='no-comment'>you can add first\r\n                                                    comment</div> : createCommentElement(item)\r\n                                        }\r\n                                    </div>\r\n                                    <div className='comment-post'>\r\n                                        <button\r\n                                            onClick={() => makeComment(item._id)}\r\n                                            className=\"btn waves-effect waves-light #1e88e5 blue darken-1 post-comment\">\r\n                                            Add\r\n                                        </button>\r\n                                        <input\r\n                                            value={comment}\r\n                                            onChange={(e) => setComment(e.target.value)}\r\n                                            type='text'\r\n                                            placeholder='add a comment'\r\n                                            className='comment-area'/>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }).reverse()\r\n                    : <div className='center no-post'>Nothing posted</div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n;\r\nexport default Home;","E:\\instagram-mern\\my-app\\src\\component\\screens\\Login.js",[],"E:\\instagram-mern\\my-app\\src\\component\\screens\\SignUp.js",[],"E:\\instagram-mern\\my-app\\src\\component\\screens\\CreatePost.js",[],"E:\\instagram-mern\\my-app\\src\\component\\screens\\UserProfile.js",["59","60"],"E:\\instagram-mern\\my-app\\src\\const.js",[],{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":24,"column":6,"nodeType":"67","endLine":24,"endColumn":8,"suggestions":"68"},{"ruleId":"69","severity":1,"message":"70","line":11,"column":18,"nodeType":"71","messageId":"72","endLine":11,"endColumn":26},{"ruleId":"73","severity":1,"message":"74","line":113,"column":28,"nodeType":"75","messageId":"76","endLine":113,"endColumn":30},{"ruleId":"77","severity":1,"message":"78","line":153,"column":80,"nodeType":"75","messageId":"79","endLine":153,"endColumn":81},{"ruleId":"69","severity":1,"message":"80","line":10,"column":11,"nodeType":"71","messageId":"72","endLine":10,"endColumn":16},{"ruleId":"65","severity":1,"message":"81","line":41,"column":6,"nodeType":"67","endLine":41,"endColumn":8,"suggestions":"82"},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["85"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","'state' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'data' and 'userId'. Either include them or remove the dependency array.",["86"],"no-global-assign","no-unsafe-negation",{"desc":"87","fix":"88"},{"desc":"89","fix":"90"},"Update the dependencies array to be: [dispatch, history]",{"range":"91","text":"92"},"Update the dependencies array to be: [data, userId]",{"range":"93","text":"94"},[976,978],"[dispatch, history]",[1393,1395],"[data, userId]"]